<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Koolo Store</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<header class="header">
  <div class="logo">
    <img src="img/koolo_logo.png" alt="Koolo Logo">
  </div>

  <nav class="menu">
    <a href="#" onclick="mostrarTodos()">Inicio</a>
    <div class="dropdown">
      <span>Categor√≠as ‚ñæ</span>
      <div class="dropdown-content">
        <a href="#" onclick="filtrarCategoria('ropa')">Ropa</a>
        <a href="#" onclick="filtrarCategoria('accesorios')">Accesorios</a>
      </div>
    </div>
    <a href="#" onclick="abrirLogin()">Login</a>
  </nav>

  <div class="cart-icon" onclick="toggleCarrito()">
    üõí <span id="cart-count">0</span>
  </div>
</header>

<section class="hero">
  <div class="hero-content">
    <h1>NUEVA COLECCI√ìN 2026</h1>
    <p>Estilo urbano. Actitud propia.</p>
    <button onclick="scrollProductos()">Ver colecci√≥n</button>
  </div>
</section>

<main class="productos" id="productos">
  <div class="producto" data-categoria="ropa">
    <img src="img/camiseta.png" alt="Camiseta">
    <h2>Camiseta</h2>
    <p>25 ‚Ç¨</p>
    <button onclick="agregarAlCarrito('Camiseta',25)">A√±adir</button>
  </div>
  <div class="producto" data-categoria="accesorios">
    <img src="img/gorra.png" alt="Gorra">
    <h2>Gorra</h2>
    <p>20 ‚Ç¨</p>
    <button onclick="agregarAlCarrito('Gorra',20)">A√±adir</button>
  </div>
  <div class="producto" data-categoria="ropa">
    <img src="img/sudadera.png" alt="Sudadera">
    <h2>Sudadera</h2>
    <p>40 ‚Ç¨</p>
    <button onclick="agregarAlCarrito('Sudadera',40)">A√±adir</button>
  </div>
</main>

<!-- PANEL ADMIN AVANZADO -->
<section id="adminPanel" class="admin-panel">
  <h3>Panel Admin Completo</h3>

  <!-- PRODUCTOS -->
  <h4>Productos</h4>
  <input type="text" id="nuevoNombre" placeholder="Nombre del producto">
  <input type="number" id="nuevoPrecio" placeholder="Precio ‚Ç¨">
  <select id="nuevaCategoria">
    <option value="ropa">Ropa</option>
    <option value="accesorios">Accesorios</option>
  </select>
  <input type="text" id="nuevaImagen" placeholder="Nombre archivo img.png">
  <button onclick="agregarProductoAdmin()">Agregar producto</button>
  <ul id="listaProductos"></ul>

  <!-- CATEGOR√çAS -->
  <h4>Categor√≠as</h4>
  <input type="text" id="nuevaCat" placeholder="Nombre nueva categor√≠a">
  <button onclick="agregarCategoria()">Agregar categor√≠a</button>
  <ul id="listaCategorias"></ul>

  <!-- BOTONES MEN√ö -->
  <h4>Botones del Men√∫</h4>
  <input type="text" id="nuevoBoton" placeholder="Nombre bot√≥n">
  <input type="text" id="enlaceBoton" placeholder="Enlace">
  <button onclick="agregarBotonMenu()">Agregar bot√≥n</button>
  <ul id="listaBotones"></ul>

  <!-- REDES SOCIALES -->
  <h4>Redes Sociales</h4>
  <input type="text" id="nombreRed" placeholder="Nombre red (ej. Instagram)">
  <input type="text" id="linkRed" placeholder="Enlace completo">
  <button onclick="agregarRed()">Agregar red</button>
  <ul id="listaRedes"></ul>
</section>

<!-- CARRITO -->
<div id="carrito" class="carrito">
  <h3>Carrito</h3>
  <ul id="lista-carrito"></ul>
  <p>Total: <span id="total">0</span> ‚Ç¨</p>
  <button onclick="vaciarCarrito()">Vaciar</button>
  <div class="paypal-disabled">Pago con PayPal pr√≥ximamente</div>
</div>

<!-- LOGIN -->
<div id="loginModal" class="modal">
  <div class="modal-content">
    <span class="cerrar" onclick="cerrarLogin()">√ó</span>
    <h2>Login</h2>
    <input type="text" placeholder="Usuario">
    <input type="password" placeholder="Contrase√±a">
    <button>Entrar</button>
  </div>
</div>

<script>
let carrito = [];
let total = 0;
let contadorProductos = {};

// --- CARRITO ---
function agregarAlCarrito(nombre, precio){
  contadorProductos[nombre] = (contadorProductos[nombre] || 0) + 1;
  carrito.push({nombre, precio});
  total += precio;
  actualizarCarrito();
  animarCarrito();
  actualizarBadge(nombre);
}

function actualizarCarrito(){
  let lista = document.getElementById("lista-carrito");
  lista.innerHTML = "";
  carrito.forEach(item=>{
    let li = document.createElement("li");
    li.textContent = item.nombre + " - " + item.precio + " ‚Ç¨";
    lista.appendChild(li);
  });
  document.getElementById("total").textContent = total;
  document.getElementById("cart-count").textContent = carrito.length;
}

function vaciarCarrito(){
  carrito = [];
  total = 0;
  contadorProductos = {};
  actualizarCarrito();
  document.querySelectorAll(".producto .badge").forEach(b=>b.remove());
}

function toggleCarrito(){
  let c = document.getElementById("carrito");
  c.style.display = c.style.display === "block" ? "none" : "block";
}

function animarCarrito(){
  let icon = document.querySelector(".cart-icon");
  icon.classList.add("shake");
  setTimeout(()=> icon.classList.remove("shake"), 400);
}

function actualizarBadge(nombre){
  document.querySelectorAll(".producto").forEach(p=>{
    let h2 = p.querySelector("h2").textContent;
    let badge = p.querySelector(".badge");
    if(h2===nombre){
      if(!badge){
        badge = document.createElement("span");
        badge.classList.add("badge");
        p.appendChild(badge);
      }
      badge.textContent = contadorProductos[nombre];
    }
  });
}

// --- FILTROS Y MEN√ö ---
function filtrarCategoria(cat){
  document.querySelectorAll(".producto").forEach(p=>{
    p.style.display = p.dataset.categoria === cat ? "block" : "none";
  });
}

function mostrarTodos(){
  document.querySelectorAll(".producto").forEach(p=>{p.style.display="block";});
}

function abrirLogin(){ document.getElementById("loginModal").style.display="flex"; }
function cerrarLogin(){ document.getElementById("loginModal").style.display="none"; }
function scrollProductos(){ document.getElementById("productos").scrollIntoView({behavior:"smooth"}); }

// --- PANEL ADMIN ---
function actualizarListaProductos(){
  const lista = document.getElementById("listaProductos");
  lista.innerHTML = "";
  document.querySelectorAll(".producto").forEach((p,index)=>{
    const li = document.createElement("li");
    li.textContent = `${p.querySelector("h2").textContent} - ${p.querySelector("p").textContent}`;
    const btnEliminar = document.createElement("button");
    btnEliminar.textContent="Eliminar";
    btnEliminar.onclick = ()=>{p.remove(); actualizarListaProductos(); };
    const btnEditar = document.createElement("button");
    btnEditar.textContent="Editar precio";
    btnEditar.onclick = ()=>{
      const nuevo = prompt("Nuevo precio (‚Ç¨):", p.querySelector("p").textContent.replace(" ‚Ç¨",""));
      if(nuevo) p.querySelector("p").textContent = nuevo+" ‚Ç¨";
      actualizarListaProductos();
    };
    li.appendChild(btnEditar);
    li.appendChild(btnEliminar);
    lista.appendChild(li);
  });
}

function agregarProductoAdmin(){
  const nombre = document.getElementById("nuevoNombre").value;
  const precio = parseFloat(document.getElementById("nuevoPrecio").value);
  const categoria = document.getElementById("nuevaCategoria").value;
  const imagen = document.getElementById("nuevaImagen").value;
  if(!nombre || !precio || !imagen) return alert("Rellena todos los campos");
  const main = document.getElementById("productos");
  const div = document.createElement("div");
  div.classList.add("producto");
  div.dataset.categoria = categoria;
  div.innerHTML = `<img src="img/${imagen}" alt="${nombre}"><h2>${nombre}</h2><p>${precio} ‚Ç¨</p><button onclick="agregarAlCarrito('${nombre}',${precio})">A√±adir</button>`;
  main.appendChild(div);
  document.getElementById("nuevoNombre").value="";
  document.getElementById("nuevoPrecio").value="";
  document.getElementById("nuevaImagen").value="";
  actualizarListaProductos();
}

actualizarListaProductos();

// --- CATEGOR√çAS ---
function agregarCategoria(){
  const cat = document.getElementById("nuevaCat").value;
  if(!cat) return;
  const lista = document.getElementById("listaCategorias");
  const li = document.createElement("li");
  li.textContent = cat;
  const btnEliminar = document.createElement("button");
  btnEliminar.textContent="Eliminar";
  btnEliminar.onclick = ()=>{li.remove(); actualizarMenu(); };
  li.appendChild(btnEliminar);
  lista.appendChild(li);
  document.getElementById("nuevaCat").value="";
  actualizarMenu();
}

function actualizarMenu(){
  const menu = document.querySelector(".menu");
  menu.innerHTML = "";
  document.querySelectorAll("#listaCategorias li").forEach(li=>{
    const a = document.createElement("a");
    a.href="#";
    a.textContent = li.firstChild.textContent;
    a.onclick = ()=>filtrarCategoria(li.firstChild.textContent.toLowerCase());
    menu.appendChild(a);
  });
  const login = document.createElement("a");
  login.href="#";
  login.textContent="Login";
  login.onclick = ()=>abrirLogin();
  menu.appendChild(login);
}

// --- BOTONES MEN√ö ---
function agregarBotonMenu(){
  const nombre = document.getElementById("nuevoBoton").value;
  const enlace = document.getElementById("enlaceBoton").value;
  if(!nombre || !enlace) return;
  const lista = document.getElementById("listaBotones");
  const li = document.createElement("li");
  li.textContent = `${nombre} - ${enlace}`;
  const btnEliminar = document.createElement("button");
  btnEliminar.textContent="Eliminar";
  btnEliminar.onclick = ()=>{li.remove(); };
  li.appendChild(btnEliminar);
  lista.appendChild(li);
  document.getElementById("nuevoBoton").value="";
  document.getElementById("enlaceBoton").value="";
}

// --- REDES SOCIALES ---
function agregarRed(){
  const nombre = document.getElementById("nombreRed").value;
  const link = document.getElementById("linkRed").value;
  if(!nombre || !link) return;
  const lista = document.getElementById("listaRedes");
  const li = document.createElement("li");
  li.innerHTML = `<a href="${link}" target="_blank">${nombre}</a>`;
  const btnEliminar = document.createElement("button");
  btnEliminar.textContent="Eliminar";
  btnEliminar.onclick = ()=>{li.remove(); };
  li.appendChild(btnEliminar);
  lista.appendChild(li);
  document.getElementById("nombreRed").value="";
}
</script>
</body>
</html>
